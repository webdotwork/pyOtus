# pyOtus
### Настройка виртуального окружения
### Использование одного и того же окружения в нескольких проектах может привести к ошибкам, например к несовместимости версий библиотек. Чтобы предотвратить подобные конфликты, используют механизм виртуального окружения.
### Для этого в Python существует специальный модуль venv, который позволяет работать с виртуальным окружением.
### Рассмотрим основные операции подробнее.
```
python -m venv .venv
python3 -m venv .venv
```
### Активация
```
.\.venv\Scripts\activate.bat
source ./.venv/bin/activate
```
### Деактивация
```
deactivate
```
### Создание виртуального окружения
### Модуль venv обычно поставляется вместе с интерпретатором Python на macOS и Windows. На Ubuntu может потребоваться отдельная установка:
```
$ sudo apt install python3-venv
```
### Чтобы проверить, что модуль установлен, напишите следующую команду:
```
$ python -m venv --help
usage: venv [-h] [--system-site-packages] [--symlinks | --copies] [--clear] [--upgrade] [--without-pip] [--prompt PROMPT] [--upgrade-deps] ENV_DIR [ENV_DIR ...]
```
### Для создания виртуального окружения перейдите в директорию с проектом и воспользуйтесь следующей командой:
```
$ python -m venv .venv
```
### В текущей рабочей директории будет создана папка .venv.
### Активация виртуального окружения
### Для активации воспользуйтесь следующей командой:
```
$ source ./.venv/bin/activate
```
### или в Windows:
```
> .\.venv\Scripts\activate.bat
```
### После активации должен появиться специальный маркер такого вида:
```
(.venv) $
```
### Теперь можно устанавливать библиотеки, которые будут храниться в этом виртуальном окружении.
```
(.venv) $ pip install flake8
```
### Хорошая практика — указывать версию устанавливаемой библиотеки. Их разработчики тоже могут допускать ошибки, поэтому лучше довериться стабильному и проверенному временем варианту. Например, так можно установить версию 2.2.3:
```
(.venv) $ pip install flake8==2.2.3
```
### Список установленных библиотек
### Для получения всех установленных библиотек в этом окружении можно использовать следующую команду:
```
(.venv) $ pip freeze
flake8==8.1.3
pylint==8.1.2.
```
### Библиотеки можно перенаправить в файл requirements.txt, используемый для хранения этих зависимостей.
```
(.venv) $ pip freeze > requirements.txt
```
### С помощью знака > мы перенаправляем результат команды pip freeze в файл requirements.txt.
### Установка зависимостей
### Если вы клонировали чужой проект, то все зависимости из файла requirements.txt можно установить одной командой:
```
(.venv) $ pip install -r requirements.txt
```
### С помощью параметра -r мы говорим, что библиотеки, которые нужно установить, находятся в файле requirements.txt.
### Деактивация виртуального окружения
### Чтобы выйти из виртуального окружения, достаточно ввести следующую команду:
```
(.venv) $ deactivate
```
### После исполнения должен пропасть маркер с названием виртуального окружения — это значит, что вы успешно вышли из него.